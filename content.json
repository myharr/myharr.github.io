{"pages":[{"title":"categories","text":"","link":"/categories/index.html"}],"posts":[{"title":"JS加正则表达式实现表单的输入验证功能并通过Servlet实现页面的跳转","text":"js学习内容@毛元浩","link":"/2020/11/17/JS%E5%8A%A0%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%AE%9E%E7%8E%B0%E8%A1%A8%E5%8D%95%E7%9A%84%E8%BE%93%E5%85%A5%E9%AA%8C%E8%AF%81%E5%8A%9F%E8%83%BD%E5%B9%B6%E9%80%9A%E8%BF%87Servlet%E5%AE%9E%E7%8E%B0%E9%A1%B5%E9%9D%A2%E7%9A%84%E8%B7%B3%E8%BD%AC/"},{"title":"MyEclipse字体修改&#x2F;Tomcat 端口号更改&#x2F;MyEclipse与Tomcat环境搭建遇到的问题","text":"js学习内容@毛元浩 提示：文章写完后，目录可以自动生成，如何生成可参考右边的帮助文档 @[TOC](MyEclipse字体修改/Tomcat 端口号更改/MyEclipse与Tomcat环境搭建遇到的问题)","link":"/2020/10/21/MyEclipse%E5%AD%97%E4%BD%93%E4%BF%AE%E6%94%B9_Tomcat%20%E7%AB%AF%E5%8F%A3%E5%8F%B7%E6%9B%B4%E6%94%B9_MyEclipse%E4%B8%8ETomcat%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98/"},{"title":"Hello World","text":"","link":"/2020/10/21/hello-world/"},{"title":"车位管理系统","text":"js学习内容@毛元浩 前言用JSP+Servlet+JS+JDBC实现简单的车位管理系统 一、工具使用MyEclipse SqlServer 二、整体思路 三、数据库表1.用户表 2.车位信息表 三、功能实现步骤(源码)：a:项目结构 b:书写bean dao util1.书写bean1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253package cn.myharr.bean;public class User { private int id; private String userName; private String pwd; private String sex; private int age; public int getId() { return id; } public void setId(int id) { this.id = id; } public String getUserName() { return userName; } public void setUserName(String userName) { this.userName = userName; } public String getPwd() { return pwd; } public void setPwd(String pwd) { this.pwd = pwd; } public String getSex() { return sex; } public void setSex(String sex) { this.sex = sex; } public int getAge() { return age; } public void setAge(int age) { this.age = age; } public User(int id, String userName, String pwd, String sex, int age) { super(); this.id = id; this.userName = userName; this.pwd = pwd; this.sex = sex; this.age = age; } public User() { super(); // TODO Auto-generated constructor stub } } 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354package cn.myharr.bean;public class Carport { private int id; private String name; private int number; private String address; private String occupy; public int getId() { return id; } public void setId(int id) { this.id = id; } public String getName() { return name; } public void setName(String name) { this.name = name; } public int getNumber() { return number; } public void setNumber(int number) { this.number = number; } public String getAddress() { return address; } public void setAddress(String address) { this.address = address; } public String getOccupy() { return occupy; } public void setOccupy(String ageoccupy) { this.occupy = ageoccupy; } public Carport(int id, String name, int number, String address, String occupy) { super(); this.id = id; this.name = name; this.number = number; this.address = address; this.occupy = occupy; } public Carport() { super(); // TODO Auto-generated constructor stub } } 2.UserDao代码12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091package cn.myharr.dao;import java.sql.Connection;import java.sql.PreparedStatement;import java.sql.ResultSet;import java.sql.SQLException;import java.util.ArrayList;import cn.myharr.bean.Carport;import cn.myharr.bean.User;import cn.myharr.util.DBUtil;public class UserDao { public static boolean login(String userName,String pwd){ boolean flag = false; Connection conn = DBUtil.getConn(); String sql = &quot;select * from users where user_name = ? and pwd = ?&quot;; PreparedStatement ps = null; ResultSet rs = null; try { ps = conn.prepareStatement(sql); ps.setObject(1,userName); ps.setObject(2,pwd); rs = ps.executeQuery(); if(rs.next()){ flag = true; }else{ flag = false; } } catch (SQLException e) { // TODO Auto-generated catch block e.printStackTrace(); } DBUtil.close(conn, ps, null); return flag; } public static ArrayList&lt;Carport&gt; getUsers(){ boolean flag = false; Connection conn = DBUtil.getConn(); String sql = &quot;select * from carport&quot;; PreparedStatement ps = null; ResultSet rs = null; ArrayList&lt;Carport&gt; carports = new ArrayList&lt;Carport&gt;(); try { ps = conn.prepareStatement(sql); rs = ps.executeQuery(); while(rs.next()){ Carport carport = new Carport(); carport.setId(rs.getInt(&quot;id&quot;)); carport.setName(rs.getString(&quot;name&quot;)); carport.setNumber(rs.getInt(&quot;number&quot;)); carport.setAddress(rs.getString(&quot;address&quot;)); carport.setOccupy(rs.getString(&quot;occupy&quot;)); carports.add(carport); } } catch (SQLException e) { // TODO Auto-generated catch block e.printStackTrace(); } DBUtil.close(conn, ps, null); return carports; } public static Carport getUserById(Integer id){ Connection conn = DBUtil.getConn(); String sql = &quot;select * from carport where id = ?&quot;; PreparedStatement ps = null; ResultSet rs = null; Carport carport = null; try { ps = conn.prepareStatement(sql); ps.setObject(1, id); rs = ps.executeQuery(); if(rs.next()){ carport = new Carport(); carport.setId(rs.getInt(&quot;id&quot;)); carport.setName(rs.getString(&quot;name&quot;)); carport.setNumber(rs.getInt(&quot;number&quot;)); carport.setAddress(rs.getString(&quot;address&quot;)); carport.setOccupy(rs.getString(&quot;occupy&quot;)); } } catch (SQLException e) { // TODO Auto-generated catch block e.printStackTrace(); } DBUtil.close(conn, ps, null); return carport; }} 3.DBUtil代码12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061package cn.myharr.util;import java.sql.Connection;import java.sql.DriverManager;import java.sql.PreparedStatement;import java.sql.ResultSet;import java.sql.SQLException;public class DBUtil { static{ try { Class.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;); } catch (ClassNotFoundException e) { // TODO Auto-generated catch block e.printStackTrace(); } } public static Connection getConn(){ Connection conn = null; try { conn = DriverManager.getConnection(&quot;jdbc:sqlserver://localhost:1433;databaseName = MyDB&quot;, &quot;sa&quot;, &quot;1&quot;); } catch (SQLException e) { // TODO Auto-generated catch block e.printStackTrace(); } return conn; } public static void close(Connection conn,PreparedStatement ps,ResultSet rs){ try { if(conn!=null) conn.close(); if(ps!=null) ps.close(); if(rs!=null) rs.close(); } catch (SQLException e) { // TODO Auto-generated catch block e.printStackTrace(); } } public static int update(String sql,Object[] objs){ int count = 0; Connection conn = getConn(); PreparedStatement ps = null; try { ps = conn.prepareStatement(sql); for (int i = 0; i &lt; objs.length; i++) { ps.setObject(i+1, objs[i]); } count = ps.executeUpdate(); } catch (SQLException e) { // TODO Auto-generated catch block e.printStackTrace(); }finally{ close(conn, ps, null); } return count; }} c:需要实现的功能：1.注册功能（ 表单验证）jsp页面12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970&lt;%@ page language=&quot;java&quot; import=&quot;java.util.*&quot; pageEncoding=&quot;utf-8&quot;%&gt;&lt;%String path = request.getContextPath();String basePath = request.getScheme()+&quot;://&quot;+request.getServerName()+&quot;:&quot;+request.getServerPort()+path+&quot;/&quot;;%&gt;&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;&gt;&lt;html&gt; &lt;head&gt; &lt;base href=&quot;&lt;%=basePath%&gt;&quot;&gt; &lt;title&gt;My JSP 'reg.jsp' starting page&lt;/title&gt; &lt;meta http-equiv=&quot;pragma&quot; content=&quot;no-cache&quot;&gt; &lt;meta http-equiv=&quot;cache-control&quot; content=&quot;no-cache&quot;&gt; &lt;meta http-equiv=&quot;expires&quot; content=&quot;0&quot;&gt; &lt;meta http-equiv=&quot;keywords&quot; content=&quot;keyword1,keyword2,keyword3&quot;&gt; &lt;meta http-equiv=&quot;description&quot; content=&quot;This is my page&quot;&gt; &lt;!-- &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;styles.css&quot;&gt; --&gt; &lt;/head&gt; &lt;body&gt; &lt;form action=&quot;regServlet&quot; method=&quot;post&quot; onsubmit=&quot;return pass()&quot;&gt; 用户名：&lt;input type=&quot;text&quot; id =&quot;userName&quot; name=&quot;userName&quot; onblur=&quot;userNameCheck()&quot;&gt;&lt;span id = &quot;userNameShow&quot;&gt;&lt;/span&gt;&lt;br&gt; 密码：&lt;input type=&quot;text&quot; id=&quot;pwd&quot; name=&quot;pwd&quot; onblur=&quot;pwdCheck()&quot;&gt;&lt;span id = &quot;pwdShow&quot;&gt;&lt;/span&gt;&lt;br&gt; 性别：&lt;input type=&quot;text&quot; id = &quot;sex&quot; name=&quot;sex&quot;onblur=&quot;sexCheck()&quot;&gt;&lt;span id = &quot;sexShow&quot;&gt;&lt;/span&gt;&lt;br&gt; 年龄：&lt;input type=&quot;text&quot; id = &quot;age&quot; name=&quot;age&quot; onblur=&quot;ageCheck()&quot;&gt;&lt;span id = &quot;ageShow&quot;&gt;&lt;/span&gt;&lt;br&gt; &lt;input type=&quot;submit&quot; value=&quot;注册&quot;&gt;&lt;/form&gt;&lt;script&gt; var flag = false; function check(value,show){ var value = document.getElementById(value).value; var show = document.getElementById(show); if(value.length = &quot;&quot;||value == undefined){ show.innerText = &quot;不能为空&quot;; show.style.color=&quot;reg&quot;; flag = false; }else{ show.innerText = &quot;通过&quot;; show.style.color=&quot;green&quot;; flag = true; } } function userNameCheck(){ return check('userName','userNameShow'); } function pwdCheck(){ return check('pwd','pwdShow'); } function sexCheck(){ return check('sex','sexShow'); } function ageCheck(){ return check('age','ageShow'); } function pass(){ if(userNameCheck()&amp;&amp;pwdCheck()&amp;&amp;sexCheck()&amp;&amp;ageCheck()){ flag = true; }else{ flag = false; } }&lt;/script&gt; &lt;/body&gt;&lt;/html&gt; Servlet代码1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950package cn.myharr.action;import java.io.IOException;import java.io.PrintWriter;import javax.servlet.ServletException;import javax.servlet.http.HttpServlet;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;import cn.myharr.dao.UserDao;import cn.myharr.util.DBUtil;public class RegServlet extends HttpServlet { public void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { doPost(request, response); } public void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { // 1.设置编码 request.setCharacterEncoding(&quot;utf-8&quot;); // 2.获取参数 userName pwd String userName = request.getParameter(&quot;userName&quot;); String pwd = request.getParameter(&quot;pwd&quot;); String sex = request.getParameter(&quot;sex&quot;); String strAge = request.getParameter(&quot;age&quot;); Integer age = Integer.parseInt(strAge); // 3.sql语句 String sql = &quot;insert into users values(?,?,?,?)&quot;; Object[] objs = { userName, pwd, sex, age }; int count = DBUtil.update(sql, objs); // 4.把参数放到数组objs // 5.调用DBUtil.update(sql,objs); // 4.响应 // 登录成功跳转到列表页面 // 登录失败跳转到本页面 if (count &gt; 0) { response.sendRedirect(&quot;login.jsp&quot;); } else { response.sendRedirect(&quot;reg.jsp&quot;); } }} 2.登录功能jsp页面12345678910111213141516171819202122232425262728293031323334353637&lt;%@ page language=&quot;java&quot; import=&quot;java.util.*&quot; pageEncoding=&quot;utf-8&quot;%&gt;&lt;% String path = request.getContextPath(); String basePath = request.getScheme() + &quot;://&quot; + request.getServerName() + &quot;:&quot; + request.getServerPort() + path + &quot;/&quot;;%&gt;&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;&gt;&lt;html&gt; &lt;head&gt; &lt;base href=&quot;&lt;%=basePath%&gt;&quot;&gt; &lt;title&gt;My JSP 'login.jsp' starting page&lt;/title&gt; &lt;meta http-equiv=&quot;pragma&quot; content=&quot;no-cache&quot;&gt; &lt;meta http-equiv=&quot;cache-control&quot; content=&quot;no-cache&quot;&gt; &lt;meta http-equiv=&quot;expires&quot; content=&quot;0&quot;&gt; &lt;meta http-equiv=&quot;keywords&quot; content=&quot;keyword1,keyword2,keyword3&quot;&gt; &lt;meta http-equiv=&quot;description&quot; content=&quot;This is my page&quot;&gt; &lt;!-- &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;styles.css&quot;&gt; --&gt; &lt;/head&gt; &lt;body&gt; &lt;form action=&quot;loginServlet&quot; method=&quot;post&quot;&gt; 用户名： &lt;input type=&quot;text&quot; name=&quot;userName&quot;&gt;&lt;br/&gt; 密码： &lt;input type=&quot;text&quot; name=&quot;pwd&quot;&gt;&lt;br/&gt; &lt;input type=&quot;submit&quot; value=&quot;登录&quot;&gt; &lt;/form&gt; &lt;/body&gt;&lt;/html&gt; Servlet代码1234567891011121314151617181920212223242526272829303132333435363738394041package cn.myharr.action;import java.io.IOException;import java.io.PrintWriter;import javax.servlet.ServletException;import javax.servlet.http.HttpServlet;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;import cn.myharr.dao.UserDao;public class LoginServlet extends HttpServlet { public void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { doPost(request, response); } public void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { // 1.设置编码 request.setCharacterEncoding(&quot;utf-8&quot;); // 2.获取参数 userName pwd String userName = request.getParameter(&quot;userName&quot;); String pwd = request.getParameter(&quot;pwd&quot;); // 3.调用UserDao.login(userName,pwd); boolean flag = UserDao.login(userName, pwd); // 4.响应 // 登录成功跳转到列表页面 // 登录失败跳转到本页面 if (flag) { response.sendRedirect(&quot;userList&quot;); } else { response.sendRedirect(&quot;login.jsp&quot;); } }} 3.列表功能jsp页面1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980&lt;%@ page language=&quot;java&quot; import=&quot;java.util.*&quot; pageEncoding=&quot;utf-8&quot;%&gt;&lt;% String path = request.getContextPath(); String basePath = request.getScheme() + &quot;://&quot; + request.getServerName() + &quot;:&quot; + request.getServerPort() + path + &quot;/&quot;;%&gt;&lt;%@taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot;%&gt;&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;&gt;&lt;html&gt; &lt;head&gt; &lt;base href=&quot;&lt;%=basePath%&gt;&quot;&gt; &lt;title&gt;My JSP 'reg.jsp' starting page&lt;/title&gt; &lt;meta http-equiv=&quot;pragma&quot; content=&quot;no-cache&quot;&gt; &lt;meta http-equiv=&quot;cache-control&quot; content=&quot;no-cache&quot;&gt; &lt;meta http-equiv=&quot;expires&quot; content=&quot;0&quot;&gt; &lt;meta http-equiv=&quot;keywords&quot; content=&quot;keyword1,keyword2,keyword3&quot;&gt; &lt;meta http-equiv=&quot;description&quot; content=&quot;This is my page&quot;&gt; &lt;!-- &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;styles.css&quot;&gt; --&gt; &lt;style type=&quot;text/css&quot;&gt; table,tr,th,td{ border:1px solid #000; } &lt;/style&gt; &lt;/head&gt; &lt;body&gt; &lt;a href=&quot;insert.jsp&quot;&gt;车位新增&lt;/a&gt; &lt;table cellspacing=&quot;0&quot;&gt; &lt;tr&gt; &lt;th&gt; 编号 &lt;/th&gt; &lt;th&gt; 名称 &lt;/th&gt; &lt;th&gt; 车位号 &lt;/th&gt; &lt;th&gt; 地址 &lt;/th&gt; &lt;th&gt; 是否被占用 &lt;/th&gt; &lt;th&gt; 操作 &lt;/th&gt; &lt;/tr&gt; &lt;c:forEach items=&quot;${carports}&quot; var=&quot;carport&quot;&gt; &lt;tr&gt; &lt;td&gt; ${carport.id} &lt;/td&gt; &lt;td&gt; ${carport.name} &lt;/td&gt; &lt;td&gt; ${carport.number} &lt;/td&gt; &lt;td&gt; ${carport.address} &lt;/td&gt; &lt;td&gt; ${carport.occupy} &lt;/td&gt; &lt;td&gt; &lt;a href=&quot;updateToServlet?id=${carport.id}&quot;&gt;修改&lt;/a&gt;&lt;a href=&quot;deleteServlet?id=${carport.id}&quot;&gt;删除&lt;/a&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/c:forEach&gt; &lt;/table&gt; &lt;/body&gt;&lt;/html&gt; Servlet代码1234567891011121314151617181920212223242526272829303132package cn.myharr.action;import java.io.IOException;import java.io.PrintWriter;import java.util.ArrayList;import javax.servlet.ServletException;import javax.servlet.http.HttpServlet;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;import cn.myharr.bean.Carport;import cn.myharr.bean.User;import cn.myharr.dao.UserDao;public class UserListServlet extends HttpServlet { public void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { doPost(request, response); } public void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { ArrayList&lt;Carport&gt; carports = UserDao.getUsers(); request.setAttribute(&quot;carports&quot;, carports); request.getRequestDispatcher(&quot;userList.jsp&quot;).forward(request, response); }} 4.新增功能（表单验证）jsp页面123456789101112131415161718192021222324252627282930313233343536373839404142434445464748&lt;%@ page language=&quot;java&quot; import=&quot;java.util.*&quot; pageEncoding=&quot;utf-8&quot;%&gt;&lt;% String path = request.getContextPath(); String basePath = request.getScheme() + &quot;://&quot; + request.getServerName() + &quot;:&quot; + request.getServerPort() + path + &quot;/&quot;;%&gt;&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;&gt;&lt;html&gt; &lt;head&gt; &lt;base href=&quot;&lt;%=basePath%&gt;&quot;&gt; &lt;title&gt;My JSP 'reg.jsp' starting page&lt;/title&gt; &lt;meta http-equiv=&quot;pragma&quot; content=&quot;no-cache&quot;&gt; &lt;meta http-equiv=&quot;cache-control&quot; content=&quot;no-cache&quot;&gt; &lt;meta http-equiv=&quot;expires&quot; content=&quot;0&quot;&gt; &lt;meta http-equiv=&quot;keywords&quot; content=&quot;keyword1,keyword2,keyword3&quot;&gt; &lt;meta http-equiv=&quot;description&quot; content=&quot;This is my page&quot;&gt; &lt;!-- &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;styles.css&quot;&gt; --&gt; &lt;/head&gt; &lt;body&gt; &lt;form action=&quot;insertServlet&quot; method=&quot;post&quot;&gt; 名称： &lt;input type=&quot;text&quot; name=&quot;name&quot;&gt; &lt;br&gt; 编号： &lt;input type=&quot;text&quot; name=&quot;number&quot;&gt; &lt;br&gt; 地址： &lt;input type=&quot;text&quot; name=&quot;address&quot;&gt; &lt;br&gt; 是否被占用： &lt;input type=&quot;text&quot; name=&quot;occupy&quot;&gt; &lt;br&gt; &lt;input type=&quot;submit&quot; value=&quot;注册&quot;&gt; &lt;/form&gt; &lt;/body&gt;&lt;/html&gt; Servlet代码1234567891011121314151617181920212223242526272829303132333435363738394041424344package cn.myharr.action;import java.io.IOException;import java.io.PrintWriter;import javax.servlet.ServletException;import javax.servlet.http.HttpServlet;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;import cn.myharr.util.DBUtil;public class InsertServlet extends HttpServlet { public void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { doPost(request, response); } public void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { // 1.设置编码 request.setCharacterEncoding(&quot;utf-8&quot;); // 2.获取参数 userName pwd String name = request.getParameter(&quot;name&quot;); String strNumber = request.getParameter(&quot;number&quot;); Integer number = Integer.parseInt(strNumber); String address = request.getParameter(&quot;address&quot;); String occupy = request.getParameter(&quot;occupy&quot;); // 3.sql语句 String sql = &quot;insert into carport values(?,?,?,?)&quot;; Object[] objs = { name, number, address, occupy }; int count = DBUtil.update(sql, objs); // 4.把参数放到数组objs // 5.调用DBUtil.update(sql,objs); // 4.响应 // 登录成功跳转到列表页面 // 登录失败跳转到本页面 response.sendRedirect(&quot;userList&quot;); }} 5.详情功能jsp页面123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051&lt;%@ page language=&quot;java&quot; import=&quot;java.util.*&quot; pageEncoding=&quot;utf-8&quot;%&gt;&lt;% String path = request.getContextPath(); String basePath = request.getScheme() + &quot;://&quot; + request.getServerName() + &quot;:&quot; + request.getServerPort() + path + &quot;/&quot;;%&gt;&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;&gt;&lt;html&gt; &lt;head&gt; &lt;base href=&quot;&lt;%=basePath%&gt;&quot;&gt; &lt;title&gt;My JSP 'reg.jsp' starting page&lt;/title&gt; &lt;meta http-equiv=&quot;pragma&quot; content=&quot;no-cache&quot;&gt; &lt;meta http-equiv=&quot;cache-control&quot; content=&quot;no-cache&quot;&gt; &lt;meta http-equiv=&quot;expires&quot; content=&quot;0&quot;&gt; &lt;meta http-equiv=&quot;keywords&quot; content=&quot;keyword1,keyword2,keyword3&quot;&gt; &lt;meta http-equiv=&quot;description&quot; content=&quot;This is my page&quot;&gt; &lt;!-- &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;styles.css&quot;&gt; --&gt; &lt;/head&gt; &lt;body&gt; &lt;form action=&quot;updateServlet&quot; method=&quot;post&quot;&gt; 编号 &lt;input type=&quot;text&quot; name=&quot;id&quot; value = &quot;${carport.id}&quot;&gt; &lt;br/&gt; 名称： &lt;input type=&quot;text&quot; name=&quot;name&quot; value = &quot;${carport.name}&quot;&gt; &lt;br&gt; 车位号： &lt;input type=&quot;text&quot; name=&quot;number&quot; value = &quot;${carport.number}&quot;&gt; &lt;br&gt; 地址： &lt;input type=&quot;text&quot; name=&quot;address&quot; value = &quot;${carport.address}&quot;&gt; &lt;br&gt; 是否被占用： &lt;input type=&quot;text&quot; name=&quot;occupy&quot; value = &quot;${carport.occupy}&quot;&gt; &lt;br&gt; &lt;input type=&quot;submit&quot; value=&quot;确定&quot;&gt; &lt;/form&gt; &lt;/body&gt;&lt;/html&gt; 6.修改功能Servlet代码12345678910111213141516171819202122232425262728293031323334353637package cn.myharr.action;import java.io.IOException;import java.io.PrintWriter;import javax.servlet.ServletException;import javax.servlet.http.HttpServlet;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;import cn.myharr.bean.Carport;import cn.myharr.bean.User;import cn.myharr.dao.UserDao;import cn.myharr.util.DBUtil;public class UpdateToServlet extends HttpServlet { public void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { doPost(request, response); } public void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { // 1.设置编码 request.setCharacterEncoding(&quot;utf-8&quot;); // 2.获取参数 userName pwd String strId = request.getParameter(&quot;id&quot;); Integer id = Integer.parseInt(strId); //3. Carport carport = UserDao.getUserById(id); request.setAttribute(&quot;carport&quot;, carport); request.getRequestDispatcher(&quot;update.jsp&quot;).forward(request, response); }} 12345678910111213141516171819202122232425262728293031323334353637383940414243444546package cn.myharr.action;import java.io.IOException;import java.io.PrintWriter;import javax.servlet.ServletException;import javax.servlet.http.HttpServlet;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;import cn.myharr.util.DBUtil;public class UpdateServlet extends HttpServlet { public void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { doPost(request, response); } public void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { // 1.设置编码 request.setCharacterEncoding(&quot;utf-8&quot;); // 2.获取参数 userName pwd String strId = request.getParameter(&quot;id&quot;); Integer id = Integer.parseInt(strId); String name = request.getParameter(&quot;name&quot;); String strNumber = request.getParameter(&quot;number&quot;); Integer number = Integer.parseInt(strNumber); String address = request.getParameter(&quot;address&quot;); String occupy = request.getParameter(&quot;occupy&quot;); // 3.sql语句 String sql = &quot;update carport set name = ?,number = ?,address = ?,occupy = ? where id = ?&quot;; Object[] objs = { name, number, address, occupy, id }; int count = DBUtil.update(sql, objs); // 4.把参数放到数组objs // 5.调用DBUtil.update(sql,objs); // 4.响应 // 登录成功跳转到列表页面 // 登录失败跳转到本页面 response.sendRedirect(&quot;userList&quot;); }} 7.删除功能Servlet代码12345678910111213141516171819202122232425262728293031323334353637package cn.myharr.action;import java.io.IOException;import java.io.PrintWriter;import javax.servlet.ServletException;import javax.servlet.http.HttpServlet;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;import cn.myharr.dao.UserDao;import cn.myharr.util.DBUtil;public class DeleteServlet extends HttpServlet { public void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { doPost(request, response); } public void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { // 1.设置编码 request.setCharacterEncoding(&quot;utf-8&quot;); // 2.获取参数 userName pwd String strId = request.getParameter(&quot;id&quot;); Integer id = Integer.parseInt(strId); // 3.sql语句 String sql = &quot;delete from carport where id = ?&quot;; Object[] objs = {id}; int count = DBUtil.update(sql, objs); response.sendRedirect(&quot;userList&quot;); }} 四、成果 总结以上就是今天要讲的内容，本文仅仅简单实现一个车位管理功能，就这。","link":"/2020/11/18/%E8%BD%A6%E4%BD%8D%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%20%E5%B0%8F%E7%99%BD%E4%B9%9F%E8%83%BD%E7%9C%8B%E6%87%82%E7%9A%84%E6%96%87%E7%AB%A0/"}],"tags":[],"categories":[{"name":"jsp","slug":"jsp","link":"/categories/jsp/"},{"name":"Hello World","slug":"Hello-World","link":"/categories/Hello-World/"}]}